# build コマンドの処理フロー

### 0. 最終目標

- `GenData` を生成すること

### 1. 用語

- `Src..`: ユーザーが直接編集するフォルダやファイルを表現する型
- `Raw..`: コマンドが扱いやすい中間表現のデータ型
- `Gen..`: 書き出されたデータの型

### 2. `Src..` を読み取る

次のような階層になっている

- 例 `1_日本語` => SrcShelf
- 例 `1_あか` => SrcBook
- 例 `1_りんご` => SrcPage

### 3. `SrcData` の組み立て

読み取った Src を全部まとめて `SrcData` を組み立てる

### 4. `SrcData` --> `RawData` へ変換

### 5. 古い `GenData` を削除

### 6. 新しい `GenData` を書き出す

このとき使用するのが `RawData`. 結果的に書き出されるものが `GenData`

### 7. 完了

Flutter アプリの方から `GenData` を認識できている状態
